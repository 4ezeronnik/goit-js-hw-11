{"version":3,"sources":["index.js"],"names":["STORAGE_KEY","inputRef","document","querySelector","formRef","cardList","onFormInput","evt","formData","JSON","parse","localStorage","getItem","target","name","value","setItem","stringify","console","log","onFormSubmit","preventDefault","checkedData","searchQuery","fetchPictures","fetch","then","response","ok","Error","statusText","json","renderMarkup","data","markup","map","tags","webformatURL","largeImageURL","likes","views","comments","downloads","join","innerHTML","addEventListener"],"mappings":";AACA,MAAMA,EAAc,sBACdC,EAAWC,SAASC,cAAc,SAClCC,EAAUF,SAASC,cAAc,oBACjCE,EAAWH,SAASC,cAAc,YAQxC,SAASG,EAAYC,GACXC,MAAAA,EAAWC,KAAKC,MAAMC,aAAaC,QAAQZ,KAAiB,GAClEQ,EAASD,EAAIM,OAAOC,MAAQP,EAAIM,OAAOE,MACvCJ,aAAaK,QAAQhB,EAAaS,KAAKQ,UAAUT,IACjDU,QAAQC,IAAIX,GAIhB,SAASY,EAAab,GAClBA,EAAIc,iBACEC,MAAAA,EAAcb,KAAKC,MAAMC,aAAaC,QAAQZ,KAAiB,GAChEsB,EAAYC,aAGjBC,EAAcF,EAAYC,aAI9B,SAASC,EAAcV,GAEbW,OAAAA,2EAAmDX,6DACxDY,KAAKC,IACA,IAACA,EAASC,GACN,MAAA,IAAIC,MAAMF,EAASG,YAEdH,OAAAA,EAASI,SAI5B,SAASC,EAAaC,GACZC,MAAAA,EAASD,EACVE,IACG,EAAGC,KAAAA,EAAMC,aAAAA,EAAcC,cAAAA,EAAeC,MAAAA,EAAOC,MAAAA,EAAOC,SAAAA,EAAUC,UAAAA,mDAE5DL,WAAsBD,4FAGhBG,6DAGAC,gEAGGC,iEAGCC,uCAIjBC,KAAK,IAERtC,EAASuC,UAAYV,EAxDzB9B,EAAQyC,iBAAiB,SAAUzB,GACnChB,EAAQyC,iBAAiB,QAASvC","file":"src.739f101c.js","sourceRoot":"../src","sourcesContent":["\nconst STORAGE_KEY = 'feedback-form-state';\nconst inputRef = document.querySelector('input');\nconst formRef = document.querySelector('form#search-form');\nconst cardList = document.querySelector('.gallery');\n\n\n\nformRef.addEventListener('submit', onFormSubmit);\nformRef.addEventListener('input', onFormInput)\n\n\nfunction onFormInput(evt) {\n    const formData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n    formData[evt.target.name] = evt.target.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n    console.log(formData);\n}\n\n\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n    const checkedData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || '';\n    if (!checkedData.searchQuery) {\n        return\n    }\n    fetchPictures(checkedData.searchQuery);\n\n}\n\nfunction fetchPictures(name) {\n    const API_KEY = '16846852-36d31872340aa79693bfa0a07';\n  return  fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${name}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n            return response.json();\n        })\n}\n\nfunction renderMarkup(data) {\n    const markup = data\n        .map(\n            ({ tags, webformatURL, largeImageURL, likes, views, comments, downloads }) => `\n   <div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes</b>${likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b>${views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b>${comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b>${downloads}\n    </p>\n  </div>\n</div>\n    `).join('');\n\n    cardList.innerHTML = markup;\n}"]}